<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]><html class="no-js ie6 oldie" lang="en"><![endif]-->
<!--[if IE 7]><html class="no-js ie7 oldie" lang="en"><![endif]-->
<!--[if IE 8]><html class="no-js ie8 oldie" lang="en"><![endif]-->
<!--[if IE 9]><html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="en" itemscope itemtype="http://schema.org/WebPage"><!--<![endif]-->
  <head>

    <meta charset="utf-8" />
    <title>MexApi: Moving Slackware to kernel 3.10: NVIDIA and Broadcom drivers fixes</title>

    <link rel="icon" href="http://mexapi.macpress.com.br/favicon.ico" sizes="16x16 24x24 32x32 57x57 64x64 72x72 96x96 110x110 114x114 128x128 195x195 256x256" type="image/vnd.microsoft.icon">

    <meta name="author" content="Deny Dias" />
    <meta name="description" itemprop="description" content="Deny Dias personal weblog. Includes his blog, links to his social accounts and resume. This is not an API." />
    <meta name="copyright" content="MexApi is licensed under CC0." />

    <link href="http://mexapi.macpress.com.br/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="MexApi RSS Feed" />
    <link href="http://mexapi.macpress.com.br/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="MexApi Atom Feed" />
    <!-- Mobile viewport optimized: j.mp/bplateviewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link rel="stylesheet" type="text/css" media="all" href="http://mexapi.macpress.com.br/theme/min-76d734ae.css" />

    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-43437542-1', 'macpress.com.br');
      ga('send', 'pageview');
    </script>
    <script src="http://mexapi.macpress.com.br/theme/js/libs/modernizr-2.6.2.min.js"></script>

  </head>
  
  <body id="index" class="home">
  
    <div class="container">
      <div class="row">
        <header id="banner" class="body">
          <h1 class="sitesubtitle"><a href="http://mexapi.macpress.com.br">MexApi</a></h1>
          <h4 class="sitesubtitle"><a href="http://mexapi.macpress.com.br"><strong>This is not an API</strong></a></h4>
        </header><!-- /#banner -->
        <div id="navigation" class="navbar row">
          <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>
          <ul class="columns">
            <li><a href="http://mexapi.macpress.com.br">Home</a></li>
            <li><a href="http://mexapi.macpress.com.br/archives.html">Archives</a></li>
            <li><a href="http://about.me/denydias">About Me</a></li>
          </ul><!-- /#columns -->
        </div><!-- /#navigation -->
        <section id="content" class="body">
          <div class="row">
            <div class="eleven columns">
              <header>
                <h2 class="entry-title"><a href="http://mexapi.macpress.com.br/2013/08/moving-slackware-to-kernel-310-fixes-to.html" rel="bookmark" title="Permalink to Moving Slackware to kernel 3.10: NVIDIA and Broadcom drivers fixes">Moving Slackware to kernel 3.10: <span class="caps">NVIDIA</span> and Broadcom drivers&nbsp;fixes</a></h2>

              </header>
              <footer class="post-info">
                <abbr class="published" title="2013-08-11T05:03:00">Sun Aug 11 05:03:00 2013 BRT</abbr>
                <address class="vcard author">By Deny Dias</address>
              </footer><!-- /.post-info -->
              <div class="entry-content">
                <html><head></head><body><p>Last Tuesday, the 6th Aug, Pat (Patrick Volkerding, Slackware’s
<a class="reference external" href="https://en.wikipedia.org/wiki/Benevolent_Dictator_for_Life"><span class="caps">BDFL</span></a>) released Linux kernel 3.10.5 in the -current tree. Bellow you
can read Mr. Pat statement for this move:</p>
<blockquote>
<p>Looks like 3.10.x got <span class="caps">LTS</span> status, but more importantly fixes the
power issue on resume with some Intel machines. So, we’re bumping
the kernel to 3.10.5, and will stick with that series for the
release. A few more things to look at before calling this a beta,
but it’s pretty close. Enjoy!</p>
<p class="attribution">—Patrick Volkerding</p>
</blockquote>
<p>Well done, Pat. But the move, at least for me, owner of a MacBook Pro
7,1, was far from what I can name an enjoyable task. Not your fault
tough. The one to blame is always those crappy proprietary hardware and
its drivers.</p>
<p><span class="caps">NVIDIA</span> and Broadcom drivers, at least as they are distributed at
<a class="reference external" href="http://slackbuilds.org/">SlackBuilds.org</a> just don’t compile under the new 3.10 series kernel.
Both is going to miserably fail when you try to compile them either
using slackbuild’s scripts or straight from the vendors tarballs.</p>
<p>So, let’s troubleshoot it.</p>
<div class="section" id="nvidia">
<h2><span class="caps">NVIDIA</span></h2>
<p><span class="caps">NVIDIA</span> was an easy fix. LinuxQuestion’s user WhiteWolf1776 reported on
a <a class="reference external" href="http://www.linuxquestions.org/questions/slackware-14/new-nvidia-drivers-325-15-support-3-10-kernel-4175472319/#post5003987">post</a> that "like it was planned, -current moves to 3.10 series and
nVidia releases a new driver 325.15." So you can build <span class="caps">NVIDIA</span> driver
successfully on your brand new 3.10.5 kernel, you can use the slackbuild
<a class="reference external" href="https://github.com/WhiteWolf1776/Bumblebee-SlackBuilds">provided</a> by WhiteWolf1776 or you can just copy (what I’ve done) your
SlackBuild.org’s scripts (<a class="reference external" href="http://slackbuilds.org/repository/14.0/system/nvidia-kernel/">nvidia-kernel</a> and <a class="reference external" href="http://slackbuilds.org/repository/14.0/system/nvidia-driver/">nvidia-driver</a>), edit
.info to change version, download <span class="caps">URL</span>’s and md5 checksum, edit
.SlackBuild to change versions and then build. They are going to build
and install with no errors.</p>
</div>
<div class="section" id="broadcom">
<h2>Broadcom</h2>
<p>Unlike <span class="caps">NVIDIA</span> drivers, Broadcom was a pain in the ass. Broadcom is
lazy enough to don’t upgrade their proprietary Linux drivers since 2011.
So, after each major change on kernel’s <span class="caps">API</span> or some core code used by
the WiFi card drivers, good developers out there must do their work and
fix that shit on Broadcom’s side so it can compile and run on newer
Linuxes. Of course that somewhere in the future this trick will not work
anymore. But at least for now we, the poor Broadcom enabled hardware
owners, are in a safe place! Kudos to the Arch Linux <a class="reference external" href="https://aur.archlinux.org/packages/broadcom-wl/">broadcom-wl
package</a> maintainer, Krejzi. He managed to patch the driver for that
distribution and I’ve put it together for Slackware.</p>
<p>So, to cut the crap talk out, all you have to do is to clone my GitHub
<a class="reference external" href="https://github.com/denydias/broadcom-sta-recent">repository</a> for that driver, download the Broadcom’s driver tarball
from the vendor <a class="reference external" href="http://www.broadcom.com/support/802.11/linux_sta.php">website</a> in the same directory as the slackbuild lives
and run the slackbuild script. It should build with success and place a
package ready to install under your /temp. Install it and you should be
good to go with no cables.</p>
<p>Now, just as Pat said before, enjoy!</p>
</div>
<div class="section" id="bonus-destroy-everything-you-touch-ladytron">
<h2><strong>Bonus</strong>: Destroy Everything You Touch - Ladytron</h2>
<div align="center" class="youtube"><iframe frameborder="0" height="281" src="https://www.youtube.com/embed/JTTwlAT_AwU" width="500"></iframe></div></div>
</body></html>
              </div><!-- /.entry-content -->
              <div class="share">
                <hr class="share-before">
                <h3>Word of Mouth</h3>
                <!-- AddThis Button BEGIN -->
                <div class="addthis_toolbox addthis_default_style">
                  <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
                  <a class="addthis_button_tweet"></a>
                  <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
                </div>
                <script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script>
                <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-52210248541aab63"></script>
                <!-- AddThis Button END -->
              </div><!-- /.share -->
              <div class="related">
                <h3>Related Posts</h3>
                <ul>
                  <li><i class="icon-doc-text-inv"></i><a href="http://mexapi.macpress.com.br/2013/04/keeping-slackware64-current-multilib-up.html">Keeping Slackware -current, multilib up-to-date kinda&nbsp;automatically</a></li>
                  <li><i class="icon-doc-text-inv"></i><a href="http://mexapi.macpress.com.br/2013/04/time-machineish-backups-under-linux.html">Time Machine&#8217;ish backups under&nbsp;Linux</a></li>
                  <li><i class="icon-doc-text-inv"></i><a href="http://mexapi.macpress.com.br/2012/11/subversao-tecnologica-do-mac-os-x-para.html">Subversão tecnológica: do Mac <span class="caps">OS</span> X para o Slackware Linux em um Apple MacBook&nbsp;Pro</a></li>
                  <li><i class="icon-doc-text-inv"></i><a href="http://mexapi.macpress.com.br/2012/11/slackware14-apple-macbook-pro-and-audio.html">Slackware14, Apple MacBook Pro and audio&nbsp;quircks</a></li>
                </ul>
                <hr class="related-after">
              </div><!-- /.related -->
              <div class="comments">
                <h3>Comments</h3>
                <div id="disqus_thread"></div>
                <script type="text/javascript">
                  var disqus_identifier = "2013/08/moving-slackware-to-kernel-310-fixes-to.html";
                  (function() {
                  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                  dsq.src = 'http://mexapi.disqus.com/embed.js';
                  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                  })();
                </script>
              </div><!-- /.comments -->
            </div><!-- /.eleven.columns -->

            <div class="three columns">

              <h4>Categories</h4>
              <ul>
                <li><i class="icon-plus-squared"></i><a href="http://mexapi.macpress.com.br/category/development.html">Development</a></li>
                <li><i class="icon-plus-squared"></i><a href="http://mexapi.macpress.com.br/category/music.html">Music</a></li>
                <li><i class="icon-plus-squared"></i><a href="http://mexapi.macpress.com.br/category/politics.html">Politics</a></li>
                <li><i class="icon-plus-squared"></i><a href="http://mexapi.macpress.com.br/category/slackware.html">Slackware</a></li>
                <li><i class="icon-plus-squared"></i><a href="http://mexapi.macpress.com.br/category/society.html">Society</a></li>
              </ul>

              <h4>Tags</h4>
              <ul>
                <li class="tag-1"><i class="icon-tag"></i><a href="http://mexapi.macpress.com.br/tag/linux.html">Linux</a></li>
                <li class="tag-1"><i class="icon-tag"></i><a href="http://mexapi.macpress.com.br/tag/slackware.html">Slackware</a></li>
                <li class="tag-2"><i class="icon-tag"></i><a href="http://mexapi.macpress.com.br/tag/subversao.html">subversão</a></li>
                <li class="tag-1"><i class="icon-tag"></i><a href="http://mexapi.macpress.com.br/tag/vida.html">vida</a></li>
                <li class="tag-2"><i class="icon-tag"></i><a href="http://mexapi.macpress.com.br/tag/development.html">development</a></li>
                <li class="tag-1"><i class="icon-tag"></i><a href="http://mexapi.macpress.com.br/tag/tecnologia.html">tecnologia</a></li>
                <li class="tag-1"><i class="icon-tag"></i><a href="http://mexapi.macpress.com.br/tag/etica.html">ética</a></li>
                <li class="tag-2"><i class="icon-tag"></i><a href="http://mexapi.macpress.com.br/tag/software.html">software</a></li>
                <li class="tag-2"><i class="icon-tag"></i><a href="http://mexapi.macpress.com.br/tag/utopia.html">utopia</a></li>
                <li class="tag-2"><i class="icon-tag"></i><a href="http://mexapi.macpress.com.br/tag/revolucao.html">revolução</a></li>
              </ul>

            </div><!-- /.three .columns -->
          </div><!-- /.row -->
        </section><!-- /#content -->
      </div><!-- /.row -->
    </div><!-- /.container -->

    <div class="container.nopad bg">
      <footer id="credits" class="row">
        <div class="seven columns left-center">
          <address id="about" class="vcard body">
            Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.<br />
            Based on the <a target="_blank" href="http://gumbyframework.com">Gumby Framework</a>. MexApi is licensed under <a href="http://creativecommons.org/publicdomain/zero/1.0/" target="_blank">CC0</a>.
          </address>
        </div><!-- /.seven .columns .left-center -->
        <div class="seven columns">
          <div class="row">
            <ul class="socbtns">
              <li><div class="btn primary"><a href="https://github.com/denydias" target="_blank">Github</a></div></li>
              <li><div class="btn twitter"><a href="https://twitter.com/denydias" target="_blank">Twitter</a></div></li>
              <li><div class="btn danger"><a href="https://plus.google.com/104343775245895695882" target="_blank">Google+</a></div></li>
            </ul><!-- /.socbtns -->
          </div><!-- /.row -->
        </div><!-- /.seven .columns -->
      </footer><!-- /#credits -->
    </div><!-- /.container.nopad .bg -->

    <script type="text/javascript">
        var disqus_shortname = 'mexapi';
        (function () {
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <script src="http://mexapi.macpress.com.br/theme/js/libs/jquery-1.9.1.min.js"></script>
    <script src="http://mexapi.macpress.com.br/theme/js/libs/gumby.min.js"></script>
    <script src="http://mexapi.macpress.com.br/theme/js/plugins.js"></script>
    
  </body>
</html>